(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{127:function(e,t,n){e.exports=n(172)},136:function(e,t,n){},137:function(e,t,n){},138:function(e,t,n){},139:function(e,t,n){},148:function(e,t,n){},149:function(e,t,n){},150:function(e,t,n){},151:function(e,t,n){},153:function(e,t,n){},168:function(e,t,n){},169:function(e,t,n){},172:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(21),u=n.n(c),l=n(10),o=(n(136),n(137),n(138),n(34)),s=function(e){for(var t=Object(l.c)((function(e){return e.account})),n=0,a=0;a<t.accounts.length;a++)n+=t.accounts[a].balance;return console.log(n),r.a.createElement(r.a.Fragment,null,n," ",r.a.createElement(o.b,null))},i=n(60),m=function(){var e=Object(i.a)(Date.now(),"dd/MM/yyyy");return r.a.createElement(r.a.Fragment,null,e)},f=function(e){var t=e.name;return r.a.createElement(r.a.Fragment,null,t)},p=(n(139),function(e){var t=e.url,n={backgroundImage:"url(".concat(t,")")};return r.a.createElement(r.a.Fragment,null,t?r.a.createElement("div",{className:"user__image",style:n}):r.a.createElement(o.c,{className:"icon"}))}),b=n(22),E=n(104),d=n(103),h=n.n(d),v=(n(148),function(){var e=Object(l.c)((function(e){return e.user}));return r.a.createElement("div",{className:"profile"},r.a.createElement("h1",null,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u0440\u043e\u0444\u0438\u043b\u044f"),r.a.createElement("img",{src:e.img,alt:"\u0417\u0434\u0435\u0441\u044c \u043c\u043e\u0433\u043b\u043e \u0431\u044b\u0442\u044c \u0432\u0430\u0448\u0435 \u0444\u043e\u0442\u043e"}),r.a.createElement("h2",null,e.name),r.a.createElement("h2",null,e.email),r.a.createElement("h2",null,"\u0421\u0442\u0430\u0442\u0443\u0441???"),r.a.createElement("div",{className:"profile__buttons"},r.a.createElement("button",{className:"btn bg_green profile__btn"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c"),r.a.createElement("button",{className:"btn bg_green profile__btn"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement("button",{className:"btn bg_red profile__btn"},"\u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442")))}),_=function(){var e=Object(a.useState)(!1),t=Object(b.a)(e,2),n=t[0],c=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"user__icon-btn",onClick:function(){c(!0)}},r.a.createElement(E.a,null)),r.a.createElement(h.a,{style:{overlay:{backgroundColor:"rgba(37,60,119,0.92)",cursor:"pointer"}},className:"user__modal",isOpen:n,onRequestClose:function(){c(!1)},contentLabel:"Example Modal",ariaHideApp:!1},r.a.createElement(v,null)))},O=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.login.userId})),n=Object(l.c)((function(e){return e.user}));return Object(a.useEffect)((function(){e(function(e){return{type:"USER_REQUEST",payload:{userId:e}}}(t))}),[e,t]),r.a.createElement("div",{className:"user"},r.a.createElement(f,{name:n.name}),r.a.createElement(_,null),r.a.createElement(p,{url:n.img}))},g=function(){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header__item"},r.a.createElement(s,{text:"24000"})),r.a.createElement("div",{className:"header__item"},r.a.createElement(o.a,null)," "," ",r.a.createElement(m,null)),r.a.createElement("div",{className:"header__item"},r.a.createElement(O,null)))},j=(n(149),n(150),function(e){var t=e.account;return r.a.createElement("div",{className:"account__card"},r.a.createElement("div",{className:"account__number"},"\u0421\u0447\u0451\u0442: ",t.id),r.a.createElement("div",{className:"account__balance"},t.balance,r.a.createElement(o.b,null)),r.a.createElement("div",{className:"account__buttons"},r.a.createElement("button",{className:"account__replenish btn bg_green"},"\u041f\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u044c"),r.a.createElement("button",{className:"account__transfer btn bg_green"},"\u041f\u0435\u0440\u0435\u0432\u043e\u0434"),r.a.createElement("button",{className:"account__payment btn bg_green"},"\u041f\u043b\u0430\u0442\u0451\u0436")),r.a.createElement("div",{className:"account__other"},r.a.createElement("div",{className:"account__links"},r.a.createElement("a",{href:"#1"}," \u0412\u044b\u043f\u0438\u0441\u043a\u0430 "),r.a.createElement("a",{href:"#2"}," \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d ")),r.a.createElement("button",{className:"btn bg_red"},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0441\u0447\u0451\u0442")))}),y=n(123),w=function(e){return{type:"ACCOUNT_HISTORY_SUCCESS",payload:e}},N=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.account.accounts}));console.log(t);var n=t.map((function(e){return{value:e.id,label:e.id}}));return r.a.createElement("div",{className:"account__select"},r.a.createElement("h1",null,"\u0432\u044b\u0431\u043e\u0440 \u0441\u0447\u0451\u0442\u0430"),r.a.createElement(y.a,{onChange:function(t){e({type:"ACCOUNT_SET_CURRENT",payload:t.value})},options:n}))},x=(n(151),function(){var e=Object(l.b)();return Object(a.useEffect)((function(){e({type:"ACCOUNT_MIN_REQUEST"})}),[e]),r.a.createElement("div",{className:"account__select"},r.a.createElement(N,null),r.a.createElement("hr",{className:"separate"}),r.a.createElement("button",{className:"btn bg_orange"},"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0441\u0447\u0451\u0442"))}),C=(n(152),n(85));n(153);var S=function(e){var t=e.history,n=e.start,a=e.end,c=e.current;console.log(c);var u,l=t.filter((function(e){var t=new Date(e.date);return n&&a?t>n&&t<a:n?t>n:!a||t<a})).sort((u="date",function(e,t){return e[u]<t[u]?1:-1})).map((function(e){e.account_out_id===c&&(e.amount=-e.amount);var t=Object(i.a)(new Date(e.date),"dd/MM/yyyy, hh:mm:ss");return r.a.createElement("tr",{key:e.date},r.a.createElement("td",null,t),r.a.createElement("td",null,e.operation_type),r.a.createElement("td",null,e.account_in_id),r.a.createElement("td",null,e.account_out_id),r.a.createElement("td",null,e.amount))}));return r.a.createElement("div",{className:"account__table"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,"\u0414\u0430\u0442\u0430"),r.a.createElement("td",null,"\u0422\u0438\u043f"),r.a.createElement("td",null,"\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c"),r.a.createElement("td",null,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044c"),r.a.createElement("td",null,"\u0421\u0443\u043c\u043c\u0430"))),r.a.createElement("tbody",null,l)))},k=function(){var e=Object(a.useState)(),t=Object(b.a)(e,2),n=t[0],c=t[1],u=Object(a.useState)(),o=Object(b.a)(u,2),s=o[0],i=o[1],m=Object(l.c)((function(e){return e.account.history})),f=Object(l.c)((function(e){return e.account.currentAccount.id}));console.log(f);var p=new Date;return r.a.createElement("div",{className:"account__history"},r.a.createElement("h1",null,"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 \u043f\u043e \u0441\u0447\u0451\u0442\u0443"),r.a.createElement("span",null,"C",r.a.createElement(C.a,{dateFormat:"dd/MM/yyyy",className:"account__date",selected:n,maxDate:new Date,onChange:function(e){return c(e)}}),"\u043f\u043e",r.a.createElement(C.a,{dateFormat:"dd/MM/yyyy, HH:mm",className:"account__date",selected:s,minDate:n,maxDate:p.setDate(p.getDate()+1),onChange:function(e){return i(e)}})),r.a.createElement(S,{history:m,start:n,end:s,current:f}))},U=function(){var e=Object(l.c)((function(e){return e.account.currentAccount}));return r.a.createElement("div",{className:"account"},e?r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{account:e}),r.a.createElement(k,null)):r.a.createElement("h2",null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0447\u0451\u0442"),r.a.createElement(x,null))},R=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,null),r.a.createElement(U,null))},T=n(41),A=n(33),I=function(e){return{type:"LOGIN_SUCCESS",payload:{id:e}}},L=function(e){return{type:"LOGIN_CHECK_TOKEN",payload:{token:e}}},G=(n(168),n(169),function(e){var t=e.label,n=e.value,a=e.handler,c=e.type;return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:"label"},t,":"),r.a.createElement("input",{className:"input",type:c,value:n,onChange:function(e){return a(e.target.value)}}))}),F=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.login.isLogin})),n=Object(T.f)(),c=Object(a.useState)(""),u=Object(b.a)(c,2),o=u[0],s=u[1],i=Object(a.useState)(""),m=Object(b.a)(i,2),f=m[0],p=m[1];return r.a.createElement("form",{className:"form"},r.a.createElement("h1",{className:"form__header"},"\u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443"),r.a.createElement(G,{type:"email",label:"Email",value:o,handler:s}),r.a.createElement(G,{type:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",value:f,handler:p}),r.a.createElement("button",{className:"btn bg_green form__btn",onClick:function(a){return function(a){a.preventDefault(),e(function(e,t){return{type:"LOGIN_REQUEST",payload:{email:e,password:t}}}(o,f)),t?n.push("/"):alert("\u0412\u0432\u0435\u0434\u0451\u043d \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 Email \u0438\u043b\u0438 \u041f\u0430\u0440\u043e\u043b\u044c")}(a)}},"\u0432\u043e\u0439\u0442\u0438"))},D=function(){var e=Object(l.c)((function(e){return e.login}));return r.a.createElement(r.a.Fragment,null,e.isLogin?r.a.createElement(T.a,{to:"/"}):r.a.createElement("div",{className:"form-overlay"},r.a.createElement(F,null),r.a.createElement(A.b,{to:"/registration"},r.a.createElement("button",{className:"form__link btn bg_orange"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"))))},M=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.login.isLogin})),n=Object(T.f)(),c=Object(a.useState)(""),u=Object(b.a)(c,2),o=u[0],s=u[1],i=Object(a.useState)(""),m=Object(b.a)(i,2),f=m[0],p=m[1],E=Object(a.useState)(""),d=Object(b.a)(E,2),h=d[0],v=d[1];return r.a.createElement("form",{className:"form"},r.a.createElement("h1",{className:"form__header"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),r.a.createElement(G,{label:"\u0418\u043c\u044f",value:h,handler:v}),r.a.createElement(G,{type:"email",label:"Email",value:o,handler:s}),r.a.createElement(G,{type:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",value:f,handler:p}),r.a.createElement("button",{className:"btn bg_green form__btn",onClick:function(a){return function(a){a.preventDefault(),e(function(e,t,n){return{type:"REGISTRATION_REQUEST",payload:{email:e,name:t,password:n}}}(o,h,f)),t&&n.push("/")}(a)}},"\u0417\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"))},q=function(){return r.a.createElement("div",{className:"form-overlay"},r.a.createElement(M,null),r.a.createElement(A.b,{to:"/login"},r.a.createElement("button",{className:"form__link btn bg_orange"},"\u0412\u0445\u043e\u0434")))};var B=function(){var e=Object(l.c)((function(e){return e.login})),t=Object(l.b)(),n=localStorage.getItem("jwt");return n&&!e.isLogin&&t(L(n)),r.a.createElement("div",{className:"content"},r.a.createElement(T.b,{path:"/",exact:!0},e.isLogin?r.a.createElement(R,null):r.a.createElement(T.a,{to:"/login"})),r.a.createElement(T.b,{path:"/login"},r.a.createElement(D,null)),r.a.createElement(T.b,{path:"/registration"},r.a.createElement(q,null)))},H=n(124),Q=n(35),P=n(42),K={fullBalance:0,currentAccount:null,accounts:[],history:[]},z=Object(Q.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLogin:!1,userId:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return Object(P.a)({},e,{isLogin:!0,userId:t.payload.id,jwt:"token"});case"LOGIN_ERROR":return Object(P.a)({},e,{isLogin:!1,userId:null,jwt:""});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:null,name:null,img:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOAD_SUCCESS":return t.payload;default:return e}},account:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACCOUNT_FULL_BALANCE_SUCCESS":return Object(P.a)({},e,{fullBalance:t.payload});case"ACCOUNT_CURRENT_SUCCESS":return Object(P.a)({},e,{currentAccount:t.payload});case"ACCOUNT_MIN_SUCCESS":return console.log(t.payload),Object(P.a)({},e,{accounts:t.payload});case"ACCOUNT_HISTORY_SUCCESS":return Object(P.a)({},e,{history:t.payload});default:return e}}}),J=n(6),Y=n.n(J),V=n(13),W=n(16),X=n(46),Z=function e(){var t=this;Object(X.a)(this,e),this.GetRequest=function(){var e=Object(W.a)(Y.a.mark((function e(t){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getFullBalance=Object(W.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$);case 1:case"end":return e.stop()}}),e)}))),this.getAccountInfo=function(){var e=Object(W.a)(Y.a.mark((function e(n){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.GetRequest("http://localhost:51870/api/accounts/".concat(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAccounts=Object(W.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.GetRequest("http://localhost:51870/api/accounts");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),this.getHistory=function(){var e=Object(W.a)(Y.a.mark((function e(n){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.GetRequest("http://localhost:51870/api/accounts/".concat(n,"/operations"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.closeAccount=Object(W.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("--API: \u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0441\u0447\u0451\u0442");case 1:case"end":return e.stop()}}),e)})))},$=24e3,ee=Y.a.mark(re),te=Y.a.mark(ce),ne=Y.a.mark(ue),ae=Y.a.mark(le);function re(){var e,t;return Y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e=new Z,n.next=4,e.getFullBalance().then((function(e){return e}));case 4:return t=n.sent,n.next=7,Object(V.b)({type:"ACCOUNT_FULL_BALANCE_SUCCESS",payload:t});case 7:n.next=11;break;case 9:n.prev=9,n.t0=n.catch(0);case 11:case"end":return n.stop()}}),ee,null,[[0,9]])}function ce(e){var t,n,a;return Y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(e),t=new Z,r.next=4,t.getAccountInfo(e.payload).then((function(e){return e}));case 4:return n=r.sent,r.next=7,Object(V.b)({type:"ACCOUNT_CURRENT_SUCCESS",payload:n});case 7:return r.next=9,t.getHistory(e.payload).then((function(e){return e}));case 9:return a=r.sent,r.next=12,Object(V.b)(w(a));case 12:case"end":return r.stop()}}),te)}function ue(){var e,t;return Y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=new Z,n.next=3,e.getAccounts().then((function(e){return e}));case 3:return t=n.sent,n.next=6,Object(V.b)({type:"ACCOUNT_MIN_SUCCESS",payload:t});case 6:case"end":return n.stop()}}),ne)}function le(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.c)("ACCOUNT_FULL_BALANCE_REQUEST",re);case 2:return e.next=4,Object(V.c)("ACCOUNT_SET_CURRENT",ce);case 4:return e.next=6,Object(V.c)("ACCOUNT_MIN_REQUEST",ue);case 6:case"end":return e.stop()}}),ae)}var oe=le,se=function e(){var t=this;Object(X.a)(this,e),this.GetRequest=function(){var e=Object(W.a)(Y.a.mark((function e(t){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getUser=function(){var e=Object(W.a)(Y.a.mark((function e(n){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.GetRequest("http://localhost:51870/api/users/current");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ie=Y.a.mark(fe),me=Y.a.mark(pe);function fe(e){var t,n;return Y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!e.payload.userId){a.next=8;break}return t=new se,a.next=5,t.getUser(e.payload.userId).then((function(e){return e}));case 5:return n=a.sent,a.next=8,Object(V.b)({type:"USER_LOAD_SUCCESS",payload:n});case 8:a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.error("\u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f");case 13:case"end":return a.stop()}}),ie,null,[[0,10]])}function pe(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.c)("USER_REQUEST",fe);case 2:case"end":return e.stop()}}),me)}var be=pe,Ee=function e(){var t=this;Object(X.a)(this,e),this.PostRequest=function(){var e=Object(W.a)(Y.a.mark((function e(t,n){var a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(n)});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.GetRequest=function(){var e=Object(W.a)(Y.a.mark((function e(t){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"Get",headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}});case 2:if(!(n=e.sent).ok){e.next=7;break}return e.abrupt("return",n);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.checkToken=Object(W.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.GetRequest("http://localhost:51870/api/auth/checktoken");case 2:if(!e.sent){e.next=7;break}return e.abrupt("return","token is valid");case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)}))),this.login=function(){var e=Object(W.a)(Y.a.mark((function e(n,a){var r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.PostRequest("http://localhost:51870/api/auth",{email:n,password:a});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.createUser=function(){var e=Object(W.a)(Y.a.mark((function e(n){var a,r,c,u;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.name,r=n.email,c=n.password,e.next=3,t.PostRequest("http://localhost:51870/api/users",{name:a,email:r,password:c});case 3:return u=e.sent,console.log(u),e.abrupt("return",u.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},de=n(125),he=Y.a.mark(je),ve=Y.a.mark(ye),_e=Y.a.mark(we),Oe=Y.a.mark(Ne),ge=new de.a;function je(e){var t,n,a,r,c;return Y.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,n=t.email,a=t.password,r=new Ee,u.next=4,r.login(n,a);case 4:if(!(c=u.sent).access_token){u.next=10;break}return ge.set("jwt",c.access_token),localStorage.setItem("jwt",c.access_token),u.next=10,Object(V.b)(L());case 10:case"end":return u.stop()}}),he)}function ye(){var e,t;return Y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=new Ee,n.next=3,e.checkToken();case 3:if(!(t=n.sent)){n.next=9;break}return n.next=7,Object(V.b)(I(t));case 7:n.next=12;break;case 9:return ge.remove("jwt",{path:"/"}),n.next=12,Object(V.b)({type:"LOGIN_ERROR"});case 12:case"end":return n.stop()}}),ve)}function we(e){var t;return Y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=new Ee,n.next=3,t.createUser(e.payload);case 3:case"end":return n.stop()}}),_e)}function Ne(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.c)("LOGIN_REQUEST",je);case 2:return e.next=4,Object(V.c)("LOGIN_CHECK_TOKEN",ye);case 4:return e.next=6,Object(V.c)("REGISTRATION_REQUEST",we);case 6:case"end":return e.stop()}}),Oe)}var xe=Ne,Ce=Y.a.mark(Se);function Se(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.a)([oe(),be(),xe()]);case 2:case"end":return e.stop()}}),Ce)}var ke=Object(H.a)(),Ue=Object(Q.e)(z,Object(Q.a)(ke));ke.run(Se),u.a.render(r.a.createElement(l.a,{store:Ue},r.a.createElement(A.a,null,r.a.createElement(B,null))),document.getElementById("root"))}},[[127,1,2]]]);
//# sourceMappingURL=main.67984ebb.chunk.js.map