(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{160:function(e,t,n){e.exports=n(286)},170:function(e,t,n){},171:function(e,t,n){},172:function(e,t,n){},173:function(e,t,n){},174:function(e,t,n){},175:function(e,t,n){},193:function(e,t,n){},194:function(e,t,n){},210:function(e,t,n){},255:function(e,t,n){},256:function(e,t,n){},266:function(e,t,n){},267:function(e,t,n){},284:function(e,t,n){},286:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(10),u=n.n(c),l=n(5),s=(n(169),n(170),n(171),n(172),n(76)),o=function(){var e=Object(l.c)((function(e){return e.account.accounts})),t=0;if(e)for(var n=0;n<e.length;n++)t+=e[n].balance;return r.a.createElement(r.a.Fragment,null,0!==t?r.a.createElement(r.a.Fragment,null,Math.round(100*t+Number.EPSILON)/100," ",r.a.createElement(s.b,null)," "):"")},i=n(291),m=function(){var e=Object(i.a)(Date.now(),"dd/MM/yyyy");return r.a.createElement(r.a.Fragment,null,e)},p=function(e){var t=e.name;return r.a.createElement(r.a.Fragment,null,t)},E=(n(173),function(e){var t=e.url;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement("div",{className:"avatar",style:{backgroundImage:"url(".concat(t,")")}},"."):r.a.createElement(s.c,{className:"icon"}))}),f=function(){return{type:"USER_DELETE_REQUEST"}},b=n(11),d=n(135),v=(n(174),n(17)),h=(n(175),function(e){var t=e.text,n=e.type,a=e.size,c=e.onClick,u=e.children;return r.a.createElement("button",{onClick:function(e){c&&c(e)},className:"button ".concat(n," ").concat(a)},t,u)}),O=function(){return r.a.createElement(h,{text:"\u0412\u044b\u0439\u0442\u0438",type:"danger",size:"full",onClick:function(){localStorage.removeItem("jwt"),window.location.href="login"}})},x=n(288),j=function(e){var t=e.closeDrawer,n=Object(l.c)((function(e){return e.user.data}));return r.a.createElement("div",{className:"profile"},n.img?r.a.createElement("img",{src:n.img,alt:"\u0412\u0430\u0448\u0430 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f"}):r.a.createElement("p",null,"\u0417\u0434\u0435\u0441\u044c \u043c\u043e\u0433\u043b\u043e \u0431\u044b\u0442\u044c \u0432\u0430\u0448\u0435 \u0444\u043e\u0442\u043e"),r.a.createElement(x.a,null),r.a.createElement("h2",null,n.name),r.a.createElement("h2",null,n.email),r.a.createElement(x.a,null),r.a.createElement(v.b,{to:"/update-user",onClick:t},r.a.createElement(h,{text:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435",type:"primary",size:"full"})),r.a.createElement(x.a,null),r.a.createElement(O,null))},y=n(295),g=function(){var e=Object(a.useState)(!1),t=Object(b.a)(e,2),n=t[0],c=t[1],u=function(){c(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"user__icon-btn",onClick:function(){c(!0)}},r.a.createElement(d.a,null)),r.a.createElement(y.a,{title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u0440\u043e\u0444\u0438\u043b\u044f",placement:"right",closable:!0,onClose:u,width:"auto",visible:n,className:"profile-overlay"},r.a.createElement(j,{closeDrawer:u})))},S=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.user}));return Object(a.useEffect)((function(){e({type:"USER_REQUEST"})}),[e]),r.a.createElement("div",{className:"user"},r.a.createElement(p,{name:t.data.name}),r.a.createElement(g,null),r.a.createElement(E,{url:t.data.img}))},_=function(){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header__item"},r.a.createElement(o,null)),r.a.createElement("div",{className:"header__item"},r.a.createElement(s.a,null)," "," "," ",r.a.createElement(m,null)),r.a.createElement("div",{className:"header__item"},r.a.createElement(S,null)))},w=(n(193),n(194),function(e){var t=e.account,n=e.disableButton;return r.a.createElement("div",{className:"account__card"},r.a.createElement("h2",{className:"account__number"},"\u041d\u043e\u043c\u0435\u0440 \u0441\u0447\u0451\u0442\u0430: ",t.id),r.a.createElement("h1",{className:"account__balance"},"\u0411\u0430\u043b\u0430\u043d\u0441: ",t.balance),n?"":r.a.createElement(v.b,{to:"/account/".concat(t.id)},r.a.createElement(h,{text:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f",type:"primary",size:"content"})))}),T=n(294),C=function(e){return{type:"ACCOUNT_SET_CURRENT",id:e}},N=function(e){return{type:"ACCOUNT_TEMPLATES_SUCCESS",templates:e}},R=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.account.accounts})),n=r.a.createElement("h2",null,"\u0423 \u0432\u0430c \u0435\u0449\u0451 \u043d\u0435\u0442 \u043d\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u0441\u0447\u0451\u0442\u0430");if(t){var a=t.map((function(e){return{value:e.id,label:e.id}}));n=r.a.createElement("div",null,r.a.createElement("h1",null,"\u0432\u044b\u0431\u043e\u0440 \u0441\u0447\u0451\u0442\u0430"),r.a.createElement(T.a,{showSearch:!0,style:{width:"100%"},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0447\u0451\u0442",options:a,onChange:function(t){e(C(t))}}))}return n},k=function(){var e=Object(l.c)((function(e){return e.account.accounts})),t=Object(l.b)();Object(a.useEffect)((function(){t({type:"ACCOUNT_MIN_REQUEST"})}),[t]),Object(a.useEffect)((function(){(null===e||void 0===e?void 0:e.length)&&1===e.length&&t(C(e[0].id))}),[e,t]);return r.a.createElement("div",{className:"account__select"},(null===e||void 0===e?void 0:e.length)&&e.length>1?r.a.createElement(r.a.Fragment,null,r.a.createElement(R,null),r.a.createElement(x.a,null)):"",r.a.createElement(h,{onClick:function(){t({type:"ACCOUNT_CREATE_REQUEST"})},text:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0441\u0447\u0451\u0442",type:"outline",size:"full"}))},U=(n(209),n(290)),A=(n(210),function(e,t){return e.date<t.date?1:e.date>t.date?-1:0}),q=function(e){var t=e.history,n=e.start,a=e.end,c=e.currentId,u=e.full,l=t.filter((function(e){return function(e,t,n){var a=new Date(e.date);return t&&n?a>t&&a<n:t?a>t:!n||a<n}(e,n,a)})).sort(A).map((function(e){e.account_out_id===c&&(e.amount=-e.amount);var t=Object(i.a)(new Date(e.date),"dd/MM/yyyy");return r.a.createElement("tr",{key:e.date.toString()},r.a.createElement("td",null,t),r.a.createElement("td",null,e.operation_type),r.a.createElement("td",null,e.amount),u?r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,0===e.account_out_id?"-":e.account_out_id),r.a.createElement("td",null,e.account_in_id)):r.a.createElement("td",null))})),s="account__table";return u&&(s+=" account__table-full"),r.a.createElement("div",{className:s},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,"\u0414\u0430\u0442\u0430"),r.a.createElement("td",null,"\u0422\u0438\u043f"),u?r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,"\u0421\u0443\u043c\u043c\u0430"),r.a.createElement("td",null,"\u0421\u0447\u0451\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0438\u0442\u0435\u043b\u044f"),r.a.createElement("td",null,"\u0421\u0447\u0451\u0442 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f")):r.a.createElement("td",null,"\u0421\u0443\u043c\u043c\u0430"))),r.a.createElement("tbody",null,l)))},I=n(158),L=function(e){var t=e.full,n=Object(a.useState)(null),c=Object(b.a)(n,2),u=c[0],s=c[1],o=Object(a.useState)(null),i=Object(b.a)(o,2),m=i[0],p=i[1],E=Object(l.c)((function(e){return e.account.history})),f=Object(l.c)((function(e){return e.account.currentAccount}));return r.a.createElement("div",{className:"account__history"},r.a.createElement("h1",null,"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 \u043f\u043e \u0441\u0447\u0451\u0442\u0443"),r.a.createElement(U.a.RangePicker,{locale:I.a,onCalendarChange:function(e){var t;(t=e)?(s(t[0]),p(t[1])):(s(null),p(null))}}),E&&f?r.a.createElement(q,{history:E,start:u,end:m,currentId:f.id,full:t}):"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u043f\u043b\u0430\u0442\u0435\u0436\u0435\u0439")},Q=function(){var e=Object(l.c)((function(e){return e.account}));return r.a.createElement("div",{className:"account"},e.currentAccount?r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{account:e.currentAccount}),r.a.createElement(L,{full:!1})):r.a.createElement("h2",null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0447\u0451\u0442 \u0438\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u044b\u0439"),r.a.createElement(k,null))},P=n(45),M=n(292),H=n(293),F=function(e){var t=e.id,n=Object(l.b)(),c=Object(a.useState)(!1),u=Object(b.a)(c,2),s=u[0],o=u[1],i=Object(P.g)(),m=function(){n({type:"ACCOUNT_CLOSE_REQUEST",accountId:+t}),i.push("/")};return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{onClick:function(){o(!0)},text:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0441\u0447\u0451\u0442",type:"danger",size:"content"}),r.a.createElement(H.a,{visible:s,title:"\u0417\u0430\u043a\u0440\u044b\u0442\u0438\u0435 \u0441\u0447\u0451\u0442\u0430",onOk:m,onCancel:function(){return o(!1)},footer:[r.a.createElement(h,{key:"back",onClick:function(){return o(!1)},text:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",type:"primary",size:"content"}),r.a.createElement(h,{key:"delete",onClick:m,text:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",type:"danger",size:"content"})]},r.a.createElement("p",null,"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u0441\u0447\u0451\u0442?")))},G=n(289),D=(n(255),function(e){var t=e.label,n=e.value,a=e.handler,c=e.type;return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:"label"},t,":"),r.a.createElement("input",{className:"input",type:c,value:n,onChange:function(e){return a(e.target.value)}}))}),z=(n(256),function(e){return r.a.createElement("form",{className:"form",onSubmit:e.submitHandler},r.a.createElement("h1",{className:"form__header"},e.header),e.children,r.a.createElement(h,{text:e.buttonText,type:"primary",size:"full",htmlType:"submit"}))}),K=function(e){var t=e.id,n=Object(l.b)(),c=Object(a.useState)(0),u=Object(b.a)(c,2),s=u[0],o=u[1],i=Object(a.useState)(0),m=Object(b.a)(i,2),p=m[0],E=m[1];return r.a.createElement(z,{submitHandler:function(e){e.preventDefault(),s>0?(G.a.info("\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c"),n({type:"ACCOUNT_TRANSFER_REQUEST",data:{accountOutId:+t,accountInId:p,amount:s}})):G.a.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443 \u0431\u043e\u043b\u044c\u0448\u0435 0")},buttonText:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"},r.a.createElement(D,{label:"\u0421\u0443\u043c\u043c\u0430",value:s.toString(),type:"number",handler:function(e){return o(+e)}}),r.a.createElement(D,{label:"\u041d\u043e\u043c\u0435\u0440 \u0441\u0447\u0451\u0442\u0430 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f",value:p.toString(),type:"number",handler:function(e){return E(+e)}}))},B=(n(266),n(267),function(e){var t=e.paymentName,n=e.targetName,a=e.targetEmail,c=e.onClick;e.id;return r.a.createElement("div",{onClick:function(){return c({paymentName:t,targetName:n,targetEmail:a})},className:"account-template-card"},r.a.createElement("p",null,t),r.a.createElement("p",null,n),r.a.createElement("p",null,a))}),J=function(e){var t,n=Object(l.b)(),c=Object(l.c)((function(e){return e.account.templates}));return Object(a.useEffect)((function(){n({type:"ACCOUNT_TEMPLATES_REQUEST"})}),[n]),c&&(t=c.map((function(t){return r.a.createElement(B,{onClick:e.clickHandler,key:t.targetName+t.id,id:t.id,paymentName:t.paymentName,targetName:t.targetName,targetEmail:t.targetEmail})}))),r.a.createElement(r.a.Fragment,null,t)},Y=function(e){var t=e.id,n=e.template,c=Object(l.b)(),u=Object(a.useState)(0),s=Object(b.a)(u,2),o=s[0],i=s[1],m=Object(a.useState)(""),p=Object(b.a)(m,2),E=p[0],f=p[1],d=Object(a.useState)(""),v=Object(b.a)(d,2),h=v[0],O=v[1],x=Object(a.useState)(""),j=Object(b.a)(x,2),y=j[0],g=j[1],S=Object(a.useState)(""),_=Object(b.a)(S,2),w=_[0],T=_[1];n&&(O(n.targetEmail),g(n.paymentName),T(n.targetName));return r.a.createElement("div",{className:"requisite-container"},r.a.createElement("div",{className:"requisite-container__inputs"},r.a.createElement(z,{submitHandler:function(e){e.preventDefault(),o>0?(c({type:"ACCOUNT_PAYMENT_REQUEST",data:{amount:o,accountOutId:+t,purpose:E,requisite:{paymentName:y,targetEmail:h,targetName:w}}}),G.a.info("\u041f\u043b\u0430\u0442\u0451\u0436 \u043e\u0431\u0440\u0430\u0431\u0430\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c")):G.a.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443 \u0431\u043e\u043b\u044c\u0448\u0435 0")},buttonText:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043f\u043b\u0430\u0442\u0451\u0436"},r.a.createElement(D,{label:"\u0421\u0443\u043c\u043c\u0430",value:o.toString(),type:"number",handler:function(e){return i(+e)}}),r.a.createElement(D,{label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u0442\u0435\u0436\u0430",value:E,type:"text",handler:f}),r.a.createElement("h3",null,"\u0420\u0435\u043a\u0432\u0435\u0437\u0438\u0442\u044b"),r.a.createElement(D,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043b\u0430\u0442\u0435\u0436",value:y,type:"text",handler:g}),r.a.createElement(D,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0430 \u043a\u043e\u0433\u043e \u043f\u043b\u0430\u0442\u0435\u0436",value:w,type:"text",handler:T}),r.a.createElement(D,{label:"email \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f",value:h,type:"text",handler:O}))),r.a.createElement("div",{className:"requisite-container__templates"},r.a.createElement("h2",null,"\u0428\u0430\u0431\u043b\u043e\u043d\u044b \u043f\u043b\u0430\u0442\u0435\u0436\u0435\u0439"),r.a.createElement(J,{clickHandler:function(e){g(e.paymentName),T(e.targetName),O(e.targetEmail)},id:t})))},V=function(e){var t=e.name,n=e.email;return r.a.createElement("div",null,r.a.createElement("h2",null,t),r.a.createElement("h2",null,n))},W=function(e){var t=e.id,n=Object(l.b)(),c=Object(l.c)((function(e){return e.account})),u=Object(l.c)((function(e){return e.user.data}));return Object(a.useEffect)((function(){n(C(+t))}),[t,n]),r.a.createElement(r.a.Fragment,null,c.currentAccount&&c.history?r.a.createElement(r.a.Fragment,null,r.a.createElement(V,{name:u.name,img:u.img,email:u.email}),r.a.createElement(w,{account:c.currentAccount,disableButton:!0}),r.a.createElement(L,{full:!0})):"")},X=function(e){var t=e.id,n=Object(l.b)(),c=Object(a.useState)(0),u=Object(b.a)(c,2),s=u[0],o=u[1];return r.a.createElement(z,{submitHandler:function(e){e.preventDefault(),s>0?(n({type:"ACCOUNT_REPLENISHMENT_REQUEST",data:{accountId:+t,amount:s}}),G.a.info("\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0441\u0435\u0440\u0435\u0432\u0435\u0440\u043e\u043c")):G.a.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443 \u0431\u043e\u043b\u044c\u0448\u0435 0")},buttonText:"\u043f\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u044c"},r.a.createElement(D,{label:"\u0421\u0443\u043c\u043c\u0430",value:s.toString(),type:"number",handler:function(e){return o(+e)}}))},Z=function(e){e.id;var t=Object(l.b)(),n=Object(a.useState)(""),c=Object(b.a)(n,2),u=c[0],s=c[1],o=Object(a.useState)(""),i=Object(b.a)(o,2),m=i[0],p=i[1],E=Object(a.useState)(""),f=Object(b.a)(E,2),d=f[0],v=f[1];return r.a.createElement(z,{submitHandler:function(e){e.preventDefault(),t({type:"ACCOUNT_TEMPLATE_CREATE_REQUEST",template:{targetEmail:u,targetName:d,paymentName:m}}),G.a.info("\u0412\u0430\u0448 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c")},buttonText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d"},r.a.createElement(D,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043b\u0430\u0442\u0435\u0436",value:m,type:"text",handler:p}),r.a.createElement(D,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0430 \u043a\u043e\u0433\u043e \u043f\u043b\u0430\u0442\u0435\u0436",value:d,type:"text",handler:v}),r.a.createElement(D,{label:"email \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f",value:u,type:"text",handler:s}))},$=function(){var e=Object(P.h)().id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.b,{to:"/"},r.a.createElement(h,{text:"\u041d\u0430\u0437\u0430\u0434",type:"outline",size:"content"})),r.a.createElement("h1",{style:{marginTop:25}},"\u0421\u0447\u0451\u0442: ",e),r.a.createElement(M.a,{defaultActiveKey:"1",style:{padding:10}},r.a.createElement(M.a.TabPane,{tab:"\u041f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435",key:"1"},r.a.createElement(X,{id:e})),r.a.createElement(M.a.TabPane,{tab:"\u041f\u0435\u0440\u0435\u0432\u043e\u0434",key:"2"},r.a.createElement(K,{id:e})),r.a.createElement(M.a.TabPane,{tab:"\u041f\u043b\u0430\u0442\u0451\u0436",key:"3"},r.a.createElement(Y,{id:e})),r.a.createElement(M.a.TabPane,{tab:"\u0412\u044b\u043f\u0438\u0441\u043a\u0430",key:"4"},r.a.createElement(W,{id:e})),r.a.createElement(M.a.TabPane,{tab:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u043f\u043b\u0430\u0442\u0435\u0436\u0430",key:"5"},r.a.createElement(Z,{id:+e})),r.a.createElement(M.a.TabPane,{tab:"\u0417\u0430\u043a\u0440\u044b\u0442\u0438\u0435",key:"6"},r.a.createElement(F,{id:e}))))},ee=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.user})),n=Object(a.useState)(""),c=Object(b.a)(n,2),u=c[0],s=c[1],o=Object(a.useState)(""),i=Object(b.a)(o,2),m=i[0],p=i[1];Object(a.useEffect)((function(){t.data.email&&t.data.name&&(s(t.data.email),p(t.data.name))}),[t]);return r.a.createElement(z,{submitHandler:function(n){n.preventDefault(),e({type:"USER_UPDATE_REQUEST",updatedUser:{email:u,name:m,img:t.data.img}})},buttonText:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"},r.a.createElement("h1",null,"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),r.a.createElement(D,{label:"\u0438\u043c\u044f",value:m,type:"input",handler:p}),r.a.createElement(D,{label:"email",value:u,type:"input",handler:s}))},te=(n(284),function(e){var t=e.onChangeHandler;return r.a.createElement("input",{className:"file-input",name:"file",id:"file",type:"file",onChange:t})}),ne=function(){var e,t=Object(l.b)();return r.a.createElement(z,{submitHandler:function(n){n.preventDefault(),t({type:"USER_CHANGE_IMAGE_REQUEST",image:e})},buttonText:"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f"},r.a.createElement(te,{onChangeHandler:function(t){t.target.files&&(e=t.target.files[0])}}))},ae=function(){var e=Object(l.b)(),t=Object(a.useState)(!1),n=Object(b.a)(t,2),c=n[0],u=n[1],s=function(){G.a.info("\u0412\u0430\u0448 \u0437\u0430\u043f\u0440\u043e\u0441 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c"),e(f)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{onClick:function(){u(!0)},text:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",type:"danger",size:"content"}),r.a.createElement(H.a,{visible:c,title:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f",onOk:s,onCancel:function(){return u(!1)},footer:[r.a.createElement(h,{key:"back",onClick:function(){return u(!1)},text:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",type:"primary",size:"content"}),r.a.createElement(h,{key:"delete",onClick:s,text:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",type:"danger",size:"content"})]},r.a.createElement("p",null,"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0432\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c?")))},re=M.a.TabPane,ce=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.b,{to:"/"},r.a.createElement(h,{text:"\u041d\u0430\u0437\u0430\u0434",size:"content",type:"outline"})),r.a.createElement(M.a,{defaultActiveKey:"1"},r.a.createElement(re,{tab:"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0435",key:"1"},r.a.createElement(ee,null)),r.a.createElement(re,{tab:"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",key:"2"},r.a.createElement(ne,null)),r.a.createElement(re,{tab:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",key:"3"},r.a.createElement(ae,null))))},ue=function(){var e=Object(l.c)((function(e){return e.login}));return r.a.createElement(r.a.Fragment,null,!e.isLogin&&e.loginError?r.a.createElement(P.a,{to:"/login"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(_,null),r.a.createElement(P.d,null,r.a.createElement(P.b,{exact:!0,path:"/"},r.a.createElement(Q,null)),r.a.createElement(P.b,{path:"/update-user"},r.a.createElement(ce,null)),r.a.createElement(P.b,{path:"/account/:id"},r.a.createElement($,null)))))},le=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.login.isLogin})),n=Object(P.g)(),c=Object(a.useState)(""),u=Object(b.a)(c,2),s=u[0],o=u[1],i=Object(a.useState)(""),m=Object(b.a)(i,2),p=m[0],E=m[1];return r.a.createElement(z,{buttonText:"\u0412\u043e\u0439\u0442\u0438",submitHandler:function(a){a.preventDefault(),e(function(e,t){return{type:"LOGIN_REQUEST",data:{email:e,password:t}}}(s,p)),t&&n.push("/")}},r.a.createElement("h2",null,"\u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443"),r.a.createElement(D,{type:"email",label:"Email",value:s,handler:o}),r.a.createElement(D,{type:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",value:p,handler:E}))},se=function(){var e=Object(l.c)((function(e){return e.login.isLogin}));return r.a.createElement(r.a.Fragment,null,e?r.a.createElement(P.a,{to:"/"}):r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(le,null),r.a.createElement(v.b,{to:"/registration"},r.a.createElement(h,{text:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",size:"content",type:"outline"}))))},oe=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.login.isLogin})),n=Object(P.g)(),c=Object(a.useState)(""),u=Object(b.a)(c,2),s=u[0],o=u[1],i=Object(a.useState)(""),m=Object(b.a)(i,2),p=m[0],E=m[1],f=Object(a.useState)(""),d=Object(b.a)(f,2),v=d[0],h=d[1];return r.a.createElement(z,{buttonText:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",submitHandler:function(a){a.preventDefault(),e(function(e,t,n){return{type:"REGISTRATION_REQUEST",data:{email:e,name:t,password:n}}}(s,v,p)),t&&n.push("/login")}},r.a.createElement("h2",null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),r.a.createElement(D,{type:"text",label:"\u0418\u043c\u044f",value:v,handler:h}),r.a.createElement(D,{type:"email",label:"Email",value:s,handler:o}),r.a.createElement(D,{type:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",value:p,handler:E}))},ie=function(){return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(oe,null),r.a.createElement(v.b,{to:"/login"},r.a.createElement(h,{text:"\u0412\u0445\u043e\u0434",type:"outline",size:"content"})))};var me,pe=function(){var e=Object(l.c)((function(e){return e.login})),t=Object(l.b)(),n=localStorage.getItem("jwt");return n||e.loginError||t({type:"LOGIN_ERROR"}),n&&!e.isLogin&&t({type:"LOGIN_CHECK_TOKEN"}),r.a.createElement("div",{className:"content"},r.a.createElement(P.d,null,r.a.createElement(P.b,{exact:!0,path:"/login"},r.a.createElement(se,null)),r.a.createElement(P.b,{exact:!0,path:"/registration"},r.a.createElement(ie,null)),r.a.createElement(P.b,{path:"/"},r.a.createElement(ue,null))))},Ee=n(157),fe=n(32),be=n(28),de={isLogin:!1,loginError:!1},ve={data:{img:null,name:null,email:null}},he={currentAccount:null,accounts:[],history:[],templates:[]},Oe=Object(fe.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return Object(be.a)({},e,{isLogin:!0,loginError:!1});case"LOGIN_ERROR":return Object(be.a)({},e,{isLogin:!1,loginError:!0});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOAD_SUCCESS":return Object(be.a)({},e,{data:Object(be.a)({},e.data,{},t.user)});default:return e}},account:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACCOUNT_CURRENT_SUCCESS":return Object(be.a)({},e,{currentAccount:t.account});case"ACCOUNT_MIN_SUCCESS":return Object(be.a)({},e,{accounts:t.accounts});case"ACCOUNT_HISTORY_SUCCESS":return Object(be.a)({},e,{history:t.operations});case"ACCOUNT_TEMPLATES_SUCCESS":return Object(be.a)({},e,{templates:t.templates});default:return e}}}),xe=n(4),je=n.n(xe),ye=n(8),ge=n(13),Se=n(42);!function(e){e.Get="GET",e.Post="POST",e.Put="PUT",e.Patch="PATCH",e.Delete="DELETE"}(me||(me={}));var _e=function e(){var t=this;Object(Se.a)(this,e),this.requestHeaders={"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("jwt"))},this.Request=function(){var e=Object(ge.a)(je.a.mark((function e(n,a,r){var c;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:51870/api/".concat(n),{method:a,headers:t.requestHeaders,body:JSON.stringify(r)});case 2:if((c=e.sent).ok){e.next=5;break}throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430");case 5:return e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),this.getRequest=function(){var e=Object(ge.a)(je.a.mark((function e(n){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.Request(n,me.Get).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.postRequest=function(){var e=Object(ge.a)(je.a.mark((function e(n,a){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.Request(n,me.Post,a);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.putRequest=function(){var e=Object(ge.a)(je.a.mark((function e(n,a){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.Request(n,me.Put,a);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.patchRequest=function(){var e=Object(ge.a)(je.a.mark((function e(n,a){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.Request(n,me.Patch,a);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.deleteRequest=function(){var e=Object(ge.a)(je.a.mark((function e(n){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.Request(n,me.Delete);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},we=function e(){var t=this;Object(Se.a)(this,e),this.requestService=void 0,this.MapRequisite=function(e){return{paymentName:e.payment_name,targetName:e.target_name,targetEmail:e.target_email}},this.MapRequisiteRevers=function(e){return{payment_name:e.paymentName,target_name:e.targetName,target_email:e.targetEmail}},this.getAccountInfo=function(){var e=Object(ge.a)(je.a.mark((function e(n){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.requestService.getRequest("accounts/".concat(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAccounts=Object(ge.a)(je.a.mark((function e(){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.requestService.getRequest("accounts");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),this.getHistory=function(){var e=Object(ge.a)(je.a.mark((function e(n){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.requestService.getRequest("accounts/".concat(n,"/operations"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.createAccount=Object(ge.a)(je.a.mark((function e(){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.requestService.postRequest("accounts",{});case 2:case"end":return e.stop()}}),e)}))),this.closeAccount=function(){var e=Object(ge.a)(je.a.mark((function e(n){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.requestService.deleteRequest("accounts/".concat(n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.replenishment=function(){var e=Object(ge.a)(je.a.mark((function e(n,a){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.requestService.postRequest("accounts/".concat(n,"/replenishment"),{amount:a});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.transfer=function(){var e=Object(ge.a)(je.a.mark((function e(n,a,r){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.requestService.postRequest("accounts/".concat(n,"/transfer"),{amount:r,account_in_id:a,account_out_id:n});case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),this.payment=function(){var e=Object(ge.a)(je.a.mark((function e(n,a,r,c){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.requestService.postRequest("accounts/".concat(n,"/payment"),{amount:a,purpose:r,account_out_id:n,requisite:t.MapRequisiteRevers(c)});case 2:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),this.getTemplates=Object(ge.a)(je.a.mark((function e(){var n;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.requestService.getRequest("accounts/templates");case 2:return n=e.sent,e.abrupt("return",n.map((function(e){return t.MapRequisite(e)})));case 4:case"end":return e.stop()}}),e)}))),this.createTemplate=function(){var e=Object(ge.a)(je.a.mark((function e(n){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.requestService.postRequest("accounts/templates",t.MapRequisiteRevers(n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.requestService=new _e},Te=je.a.mark(Qe),Ce=je.a.mark(Pe),Ne=je.a.mark(Me),Re=je.a.mark(He),ke=je.a.mark(Fe),Ue=je.a.mark(Ge),Ae=je.a.mark(De),qe=je.a.mark(ze),Ie=je.a.mark(Ke),Le=je.a.mark(Be);function Qe(e){var t,n,a;return je.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=new we,r.prev=1,r.next=4,t.getAccountInfo(e.id).then((function(e){return e}));case 4:return n=r.sent,r.next=7,Object(ye.b)({type:"ACCOUNT_CURRENT_SUCCESS",account:n});case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,G.a.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u0441\u0447\u0451\u0442");case 13:return r.prev=13,r.next=16,t.getHistory(e.id).then((function(e){return e}));case 16:return a=r.sent,r.next=19,Object(ye.b)({type:"ACCOUNT_HISTORY_SUCCESS",operations:a});case 19:r.next=25;break;case 21:return r.prev=21,r.t1=r.catch(13),r.next=25,G.a.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439");case 25:case"end":return r.stop()}}),Te,null,[[1,9],[13,21]])}function Pe(){var e,t;return je.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e=new we,n.next=4,e.getAccounts().then((function(e){return e}));case 4:return t=n.sent,n.next=7,Object(ye.b)({type:"ACCOUNT_MIN_SUCCESS",accounts:t});case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,G.a.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u0447\u0435\u0442\u043e\u0432");case 13:case"end":return n.stop()}}),Ce,null,[[0,9]])}function Me(e){var t;return je.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=new we,n.next=4,t.closeAccount(e.accountId);case 4:return n.next=6,Object(ye.b)({type:"ACCOUNT_MIN_REQUEST"});case 6:return n.next=8,G.a.success("\u0441\u0447\u0451\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u043a\u0440\u044b\u0442");case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,G.a.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u0441\u0447\u0451\u0442");case 14:case"end":return n.stop()}}),Ne,null,[[0,10]])}function He(e){var t;return je.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=new we,n.next=4,t.replenishment(e.data.accountId,e.data.amount);case 4:return n.next=6,Object(ye.b)({type:"ACCOUNT_MIN_REQUEST"});case 6:return n.next=8,G.a.success("\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0448\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e");case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,G.a.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044e");case 14:case"end":return n.stop()}}),Re,null,[[0,10]])}function Fe(e){var t;return je.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=new we,n.next=4,t.transfer(e.data.accountOutId,e.data.accountInId,e.data.amount);case 4:return n.next=6,Object(ye.b)({type:"ACCOUNT_MIN_REQUEST"});case 6:return n.next=8,G.a.success("\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0448\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e");case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,G.a.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044e");case 14:case"end":return n.stop()}}),ke,null,[[0,10]])}function Ge(e){var t;return je.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=new we,n.next=4,t.payment(e.data.accountOutId,e.data.amount,e.data.purpose,e.data.requisite);case 4:return n.next=6,Object(ye.b)({type:"ACCOUNT_MIN_REQUEST"});case 6:return n.next=8,G.a.success("\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0448\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e");case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,G.a.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044e");case 14:case"end":return n.stop()}}),Ue,null,[[0,10]])}function De(){var e;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=new we,t.next=4,e.createAccount();case 4:return t.next=6,Object(ye.b)({type:"ACCOUNT_MIN_REQUEST"});case 6:return t.next=8,G.a.success("\u0421\u0447\u0451\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d");case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,G.a.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0447\u0451\u0442");case 14:case"end":return t.stop()}}),Ae,null,[[0,10]])}function ze(){var e,t;return je.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e=new we,n.next=4,e.getTemplates();case 4:return t=n.sent,n.next=7,Object(ye.b)(N(t));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,G.a.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d\u044b \u043f\u043b\u0430\u0442\u0435\u0436\u0430");case 13:case"end":return n.stop()}}),qe,null,[[0,9]])}function Ke(e){var t;return je.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=new we,n.next=4,t.createTemplate(e.template);case 4:return n.next=6,G.a.success("\u0428\u0430\u0431\u043b\u043e\u043d \u043f\u043b\u0430\u0442\u0435\u0436\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d");case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,G.a.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u043f\u043b\u0430\u0442\u0435\u0436\u0430");case 12:case"end":return n.stop()}}),Ie,null,[[0,8]])}function Be(){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ye.c)("ACCOUNT_SET_CURRENT",Qe);case 2:return e.next=4,Object(ye.c)("ACCOUNT_MIN_REQUEST",Pe);case 4:return e.next=6,Object(ye.c)("ACCOUNT_CLOSE_REQUEST",Me);case 6:return e.next=8,Object(ye.c)("ACCOUNT_CREATE_REQUEST",De);case 8:return e.next=10,Object(ye.c)("ACCOUNT_REPLENISHMENT_REQUEST",He);case 10:return e.next=12,Object(ye.c)("ACCOUNT_TRANSFER_REQUEST",Fe);case 12:return e.next=14,Object(ye.c)("ACCOUNT_PAYMENT_REQUEST",Ge);case 14:return e.next=16,Object(ye.c)("ACCOUNT_TEMPLATES_REQUEST",ze);case 16:return e.next=18,Object(ye.c)("ACCOUNT_TEMPLATE_CREATE_REQUEST",Ke);case 18:case"end":return e.stop()}}),Le)}var Je=Be,Ye=function(){var e=Object(ge.a)(je.a.mark((function e(t){var n,a;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={Authorization:"Bearer ".concat(localStorage.getItem("jwt"))},(a=new FormData).append("uploadedFile",t),e.next=5,fetch("http://localhost:51870/api/users/current/img",{method:"PATCH",headers:n,body:a,redirect:"follow"});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ve=function e(){var t=this;Object(Se.a)(this,e),this.requestService=void 0,this.getUser=Object(ge.a)(je.a.mark((function e(){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.requestService.getRequest("users/current");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),this.putUser=function(){var e=Object(ge.a)(je.a.mark((function e(n){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.requestService.putRequest("users",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.changeUserImage=function(){var e=Object(ge.a)(je.a.mark((function e(t){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.deleteUser=Object(ge.a)(je.a.mark((function e(){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.requestService.deleteRequest("users/current");case 2:case"end":return e.stop()}}),e)}))),this.requestService=new _e},We=je.a.mark(tt),Xe=je.a.mark(nt),Ze=je.a.mark(at),$e=je.a.mark(rt),et=je.a.mark(ct);function tt(){var e,t;return je.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e=new Ve,n.next=4,e.getUser().then((function(e){return e}));case 4:return t=n.sent,n.next=7,Object(ye.b)({type:"USER_LOAD_SUCCESS",user:t});case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,G.a.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f");case 13:case"end":return n.stop()}}),We,null,[[0,9]])}function nt(e){var t;return je.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=new Ve,n.next=4,t.putUser(e.updatedUser);case 4:return n.next=6,G.a.success("\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b");case 6:return n.next=8,Object(ye.b)({type:"USER_REQUEST"});case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,G.a.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f");case 14:case"end":return n.stop()}}),Xe,null,[[0,10]])}function at(e){var t;return je.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=new Ve,n.next=4,t.changeUserImage(e.image);case 4:return n.next=6,G.a.success("\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e");case 6:return n.next=8,Object(ye.b)({type:"USER_REQUEST"});case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,G.a.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435");case 14:case"end":return n.stop()}}),Ze,null,[[0,10]])}function rt(){var e;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=new Ve,t.next=4,e.deleteUser();case 4:return t.next=6,G.a.success("\u041d\u0443 \u0432\u043e\u0442 \u0438 \u0432\u0441\u0451");case 6:return t.next=8,localStorage.removeItem("jwt");case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,G.a.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f");case 14:case"end":return t.stop()}}),$e,null,[[0,10]])}function ct(){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ye.c)("USER_REQUEST",tt);case 2:return e.next=4,Object(ye.c)("USER_UPDATE_REQUEST",nt);case 4:return e.next=6,Object(ye.c)("USER_CHANGE_IMAGE_REQUEST",at);case 6:return e.next=8,Object(ye.c)("USER_DELETE_REQUEST",rt);case 8:case"end":return e.stop()}}),et)}var ut=ct,lt=function e(){var t=this;Object(Se.a)(this,e),this.requestService=void 0,this.PostRequest=function(){var e=Object(ge.a)(je.a.mark((function e(t,n){var a;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.GetRequest=function(){var e=Object(ge.a)(je.a.mark((function e(t){var n;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"Get",headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}});case 2:if(!(n=e.sent).ok){e.next=7;break}return e.abrupt("return",n);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.checkToken=Object(ge.a)(je.a.mark((function e(){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.GetRequest("http://localhost:51870/api/auth/checktoken");case 2:if(!e.sent){e.next=7;break}return e.abrupt("return","token is valid");case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)}))),this.login=function(){var e=Object(ge.a)(je.a.mark((function e(n,a){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.PostRequest("http://localhost:51870/api/auth",{email:n,password:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.createUser=function(){var e=Object(ge.a)(je.a.mark((function e(n){var a,r,c;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.name,r=n.email,c=n.password,e.next=3,t.requestService.postRequest("users",{name:a,email:r,password:c});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.requestService=new _e},st=je.a.mark(pt),ot=je.a.mark(Et),it=je.a.mark(ft),mt=je.a.mark(bt);function pt(e){var t,n,a,r,c;return je.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,t=e.data,n=t.email,a=t.password,r=new lt,u.next=5,r.login(n,a);case 5:if(!(c=u.sent).access_token){u.next=12;break}return window.localStorage.setItem("jwt",c.access_token),u.next=10,Object(ye.b)({type:"LOGIN_CHECK_TOKEN"});case 10:u.next=14;break;case 12:return u.next=14,Object(ye.b)({type:"LOGIN_ERROR"});case 14:u.next=22;break;case 16:return u.prev=16,u.t0=u.catch(0),u.next=20,Object(ye.b)({type:"LOGIN_ERROR"});case 20:return u.next=22,G.a.error("\u043e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438");case 22:case"end":return u.stop()}}),st,null,[[0,16]])}function Et(){var e;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=new lt,t.next=4,e.checkToken();case 4:return t.next=6,Object(ye.b)({type:"LOGIN_SUCCESS"});case 6:t.next=15;break;case 8:return t.prev=8,t.t0=t.catch(0),localStorage.removeItem("jwt"),t.next=13,Object(ye.b)({type:"LOGIN_ERROR"});case 13:return t.next=15,G.a.error("\u043e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438");case 15:case"end":return t.stop()}}),ot,null,[[0,8]])}function ft(e){var t;return je.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=new lt,n.next=4,t.createUser(e.data);case 4:return n.next=6,G.a.success("\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0448\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e",2,(function(){return window.location.href="/login"}));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,G.a.error("\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u0430");case 12:case"end":return n.stop()}}),it,null,[[0,8]])}function bt(){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ye.c)("LOGIN_REQUEST",pt);case 2:return e.next=4,Object(ye.c)("LOGIN_CHECK_TOKEN",Et);case 4:return e.next=6,Object(ye.c)("REGISTRATION_REQUEST",ft);case 6:case"end":return e.stop()}}),mt)}var dt=bt,vt=je.a.mark(ht);function ht(){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ye.a)([Je(),ut(),dt()]);case 2:case"end":return e.stop()}}),vt)}var Ot=Object(Ee.a)(),xt=Object(fe.e)(Oe,Object(fe.d)(Object(fe.a)(Ot)));Ot.run(ht),u.a.render(r.a.createElement(l.a,{store:xt},r.a.createElement(v.a,null,r.a.createElement(pe,null))),document.getElementById("root"))}},[[160,1,2]]]);
//# sourceMappingURL=main.20672863.chunk.js.map